<h1>2022-05-12 (목) 개발일지</h1>

▶ 작성자 : 김빛가람<br><br>

▶ 업무종류 : 플랫폼 환경구축 <br><br>
▶ 시간별 수행 내용 요약 <br><br>
  - 9:30 ~ 01 : 00 kubernetes dashboard 관련 troubleshooting
  - ERR : dashboard login token 발행 관련
  - 요약 : dashboard 에 login 하려면 Bearer token을 발급 받아야 하는데 내가 만든 ServiceAccount에는 토큰 발급이 진행되지 않았다.
  - 원인 : kubernetes 1.24 부터는 seacret 기반 token을 token-controller가 자동으로 발행해 주지 않았다
  - 해결 : serviceaccount 생성, ClusterRoleBinding 생성 후 kubectl -n kubernetes-dashboard create token admin-user 로 토큰 할당.
  - 알게 된것 : Seacret 관련 내용은 kube-apiserver가 담당 하고 kube-controller-manager에 속한 token-controller가 자동으로 할당 해 준다.
  - 참고 : https://github.com/kubernetes/dashboard/pull/6967 , https://github.com/kubernetes/dashboard/releases/tag/v2.5.1 <br><br>

  - 01:30 ~ helm 설치 및 repositories 설정.
  - 설치 코드 및 설정 코드 : <br> 
                curl https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3 | bash # 최신 버전 설치 <br>
                chmod 700 get_helm.sh <br>
                ./get_helm.sh <br>
                helm repo add stable https://charts.helm.sh/stable # 공식 helm charts repositories 추가 <br>
                helm repo update <br>

                
          
  WARNING: Kubernetes configuration file is group-readable. This is insecure. Location: /root/.kube/config <br>
  WARNING: Kubernetes configuration file is world-readable. This is insecure. Location: /root/.kube/config <br>
  - 원인 : /root/.kube/config 파일의 권한 관련 경고
  - 해결 : chmod go-r ~/.kube/config
  - 참고 : https://helm.sh/ko/docs/intro/install/    # 설치 관련 , https://github.com/helm/helm/issues/9115 # 권한 관련 <br>
  - 
<hr>
▶ 내일 할 일<br>
- 내용
